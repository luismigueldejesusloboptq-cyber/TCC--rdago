<div class="dashboard-shell">

  <!-- background canvas with subtle particles -->
  <canvas #bgCanvas class="bg-canvas"></canvas>

  <header class="topbar">
    <div class="brand">√ìrdago</div>
    <div class="controls">
      <button class="icon-btn">üîç</button>
      <button class="icon-btn">‚öôÔ∏è</button>
      <button class="icon-btn logout" (click)="logout()">‚éã</button>
    </div>
  </header>

  <main class="main-grid">
    <!-- left column: KPIs + mini controls -->
    <section class="left-col">
      <div class="kpi-grid">
        <div class="kpi-card" *ngFor="let m of metrics; index as i">
          <div class="kpi-left">
            <div class="kpi-icon">‚òÖ</div>
            <div class="kpi-text">
              <div class="kpi-label">{{ m.label }}</div>
              <div class="kpi-value">{{ m.formatted || m.value }}</div>
            </div>
          </div>
          <canvas #spark class="spark-canvas"></canvas>
        </div>
      </div>

      <div class="control-card">
        <h4>Quick Filters</h4>
        <div class="filters">
          <button class="chip">√öltimos 7 dias</button>
          <button class="chip">√öltimos 30 dias</button>
          <button class="chip active">Este M√™s</button>
        </div>
      </div>
    </section>

    <!-- center column: big charts -->
    <section class="center-col">
      <div class="panel glass">
        <div class="panel-header">
          <h3>Vendas Mensais</h3>
          <div class="panel-actions">üîÅ</div>
        </div>
        <div class="panel-body">
          <canvas #lineCanvas class="full-canvas"></canvas>
        </div>
      </div>

      <div class="panel glass small">
        <div class="panel-header">
          <h3>Produtos</h3>
        </div>
        <div class="panel-body">
          <canvas #barCanvas class="full-canvas"></canvas>
        </div>
      </div>
    </section>

    <!-- right column: details, table and CTA -->
    <aside class="right-col">
      <div class="panel glass">
        <h4>Resumo R√°pido</h4>
        <ul class="summary">
          <li><strong>Uptime</strong><span>99.92%</span></li>
          <li><strong>Tickets</strong><span>12 abertos</span></li>
          <li><strong>NPS</strong><span>78</span></li>
        </ul>
      </div>

      <div class="panel glass">
        <h4>Top Produtos</h4>
        <table class="mini-table">
          <thead><tr><th>Produto</th><th>Vendas</th></tr></thead>
          <tbody>
            <tr><td>XPTO</td><td>312</td></tr>
            <tr><td>Y</td><td>277</td></tr>
            <tr><td>Z</td><td>221</td></tr>
          </tbody>
        </table>
      </div>

      <div class="cta-card">
        <h4>Explorar Insights</h4>
        <p class="muted">Gere relat√≥rios avan√ßados e exporte em CSV/PDF.</p>
        <button class="primary">Gerar relat√≥rio</button>
      </div>
    </aside>
  </main>
</div>
